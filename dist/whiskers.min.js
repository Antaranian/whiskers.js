// whiskers.js templating library v0.3.3
(function(e){function r(e,t,n){n==null&&(n="");if(!e)return n;var r=t.split("."),i=!0;t=r.shift();while(t&&(e=e[t]))t=r.shift();if(!e&&e!==0)return n;if(e instanceof Array&&!e.length)return n;if(e.constructor===Object){r=Object.keys(e);if(!r.length)return n}return e}var t,n;n="(\\\\*){(?:"+[">([\\w_.\\-]+)","for +([\\w_\\-]+) +in +([\\w_.\\-]+)","if +(not +|)([\\w_.\\-]+)","(else)","\\/(for|if)","(?:([\\w_.\\-]+)(?:\\|(.*?))?)"].join("|")+")}",t=new RegExp(n,"g"),e.cache={},e.render=function(t,n){var r=e.cache;return r[t]||(r[t]=e.compile(t)),r[t](n)},e.compile=function(n){var i=[],s,o,u;if(typeof n=="function")return n;n=(n||"")+"",n=n.replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,""),n=n.replace(/(\\*){![\s\S]*?!}/g,function(e,t){return t?e.replace("\\\\",""):""}),n=n.replace(t,function(e){var t,n,r,o=[null,"escapeChar","partial","iVar","forKey","ifNot","ifKey","elseKey","closeStatement","key","defValue"];[].reduce.call(arguments,function(e,n,r){return(t=o[r])&&(e[t]=n||""),e},r={});if(r.escapeChar)return e.replace("\\\\","");if(r.partial)return"'+r(g(c,'"+r.partial+"'),c)+'";if(r.forKey){var u=r.forKey,a=r.iVar;return t=a.replace("-","__"),i.push({statement:"for",forKey:u,iVar:a,siVar:t}),"';var __"+t+"= g(c,'"+a+"');"+"var "+t+"A = g(c,'"+u+"');"+"for (var "+t+"I=0; "+t+"I < "+t+"A.length; "+t+"I++){"+"c['"+a+"'] = "+t+"A["+t+"I];"+"b+='"}if(r.ifKey){i.push({statement:"if"});var t=r.ifNot?"!":"";return"';if ("+t+"g(c,'"+r.ifKey+"')) {"+"b+='"}if(r.elseKey){s=i[i.length-1];if(!s||s.elsed)return console.warn("extra {else} ignored"),"";s.elsed=!0;if(s.statement==="if")return"'} else {b+='";if(s.statement==="for")return"'}if (!g(c,'"+s.forKey+"')) {"+"b+='"}return r.closeStatement?(s=i[i.length-1],!s||s.statement!==r.closeStatement?(console.warn("extra {/"+r.closeStatement+"} ignored"),""):(i.pop(),t=s.statement==="for"?"c['"+s.iVar+"'] = __"+s.siVar+";":"","'}"+t+"b+='")):r.key?"'+g(c,'"+r.key+"','"+r.defValue+"')+'":e}),o=i.length;while(s=i[--o])console.warn("extra {"+s.statement+"} closed at end of template"),n+="'}b+='";return u=new Function("g","r","return function(c){var b='"+n+"';return b}"),u(r,e.render)},e.__express=function(){try{return require("./__express")}catch(e){}}()})(typeof module=="object"?module.exports:window.whiskers={})
