// whiskers.js templating library v0.3.3
(function(e){function r(e,t,n){n==null&&(n="");var r,i=t.split("."),s=!0;for(r=0;r<i.length;r++){if(!e)return n;e=e[i[r]]}if(e===undefined||e===null||e===!1)return n;if(e instanceof Array&&e.length==0)return n;if(e.constructor===Object){for(r in e)e.hasOwnProperty(r)&&(s=!r);if(s)return n}return e}var t,n;n="(\\\\*){(?:"+["(?:([\\w_.\\-]+)(?:\\|(.*?))?)",">([\\w_.\\-]+)","for +([\\w_\\-]+) +in +([\\w_.\\-]+)","if +(not +|)([\\w_.\\-]+)","\\/(for|if)"].join("|")+")}",t=new RegExp(n,"g"),e.cache={},e.render=function(t,n){return e.cache[t]||(e.cache[t]=e.compile(t)),e.cache[t](n)},e.compile=function(n){var i=[],s,o,u,a;if(n instanceof Function)return n;n=(n||"")+"",n=n.replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,""),n=n.replace(/(\\*){![\s\S]*?!}/g,function(e,t){return t?e.replace("\\\\",""):""}),n=n.replace(t,function(e,t,n,r,o,u,f,l,c,h,p,d){if(t)return e.replace("\\\\","");if(n){if(n=="else"){s=i[i.length-1];if(s&&!s.elsed){s.elsed=!0;if(s.statement=="if")return"'}else{b+='";if(s.statement=="for")return"'}if(!g(c,'"+s.forKey+"')){b+='"}return console.warn("extra {else} ignored"),""}return r||(r=""),"'+g(c,'"+n+"','"+r+"')+'"}return o?"'+r(g(c,'"+o+"'),c)+'":f?(a=u.replace("-","__"),i.push({statement:"for",forKey:f,iterVar:u,safeIterVar:a}),"';var __"+a+"=g(c,'"+u+"');var "+a+"A=g(c,'"+f+"');for(var "+a+"I=0;"+a+"I<"+a+"A.length;"+a+"I++){c['"+u+"']="+a+"A["+a+"I];b+='"):c?(i.push({statement:"if"}),"';if("+(l?"!":"")+"g(c,'"+c+"')){b+='"):h?(s=i[i.length-1],s&&s.statement==h?(i.pop(),"'}"+(s.statement=="for"?"c['"+s.iterVar+"']=__"+s.safeIterVar+";":"")+"b+='"):(console.warn("extra {/"+h+"} ignored"),"")):e});for(o=i.length-1;o>-1;o--)s=i[o],console.warn("extra {"+s.statement+"} closed at end of template"),n+="'}b+='";return u=new Function("g","r","return function(c){var b='"+n+"';return b}"),u(r,e.render)},e.__express=function(){try{return require("./__express")}catch(e){}}()})(typeof module=="object"?module.exports:window.whiskers={})
