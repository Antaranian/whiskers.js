// whiskers.js templating library v0.0.9
(function(a){a.cache={},a.render=function(b,c,d){return b=a.expand(b,d),c=c||{},a.cache[b]?a.cache[b](c):(a.cache[b]=a.compile(b),a.cache[b](c))},a.MAX_TEMPLATE_DEPTH=20,a.expand=function(b,c){var d=function(a,b){var c=b.split(".");for(var d=0,e=c.length;d<e;d++){if(!a)break;a=a[c[d]]}return a||""},e=function(b,c,f){return b=(b||"")+"",f=f||0,f>a.MAX_TEMPLATE_DEPTH?(console.warn("maximum template depth reached"),b):(f++,b.replace(/(\\*){>([\w_.]+)}/g,function(a,g,h){return g?a.replace("\\",""):(b=d(c,h),e(b,c,f))}))};return e(b,c)},a.compile=function(a){a=(a||"")+"",a=a.replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,""),a=a.replace(/(\\*){![\s\S]*?!}/,function(a,b){return b?a.replace("\\\\",""):""}),a=a.replace(/(\\*){([\w_.]+)}/g,function(a,b,c){return b?a.replace("\\\\",""):"'+g(c,'"+c+"')+'"});var b=[],c;a=a.replace(/(\\*){(?:for +([\w_]+) +in +([\w_.]+)|if +(not +|)([\w_.]+)|\/(for|if))}/g,function(a,d,e,f,g,h,i,j,k){return d?a.replace("\\\\",""):f?(b.push({statement:"for"}),"';var "+e+"A=g(c,'"+f+"');for(var "+e+"I=0;"+e+"I<"+e+"A.length;"+e+"I++){c['"+e+"']="+e+"A["+e+"I];b+='"):h?(b.push({statement:"if"}),"';if("+(g?"!":"")+"g(c,'"+h+"')){b+='"):i?(c=b[b.length-1],c&&c.statement==i?(b.pop(),"';}b+='"):(console.warn("extra {/"+i+"} ignored"),"")):a});for(var d=b.length-1;d>-1;d--)c=b[d],console.warn('extra "'+c.statement+'" closed at end of template'),a+="';}b+='";return new Function("c","var g=function(o,k){var a=k.split('.');for(var i=0,l=a.length;i<l;i++){o=o[a[i]];if(!o)break}if(typeof o=='function')o=o();if(o===undefined)o='';return o};var b='"+a+"';return b")}})(typeof module=="object"?module.exports:this.whiskers={})
