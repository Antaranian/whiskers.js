// whiskers.js templating library v0.3.3
(function(e){function r(e,t,n){n==null&&(n="");if(!e)return n;var r=t.split("."),i=!0;t=r.shift();while(t&&(e=e[t]))t=r.shift();if(!e&&e!==0)return n;if(e instanceof Array&&!e.length)return n;if(e.constructor===Object){r=Object.keys(e);if(!r.length)return n}return e}var t,n;n="(\\\\*){(?:"+[">([\\w_.\\-]+)","for +([\\w_\\-]+) +in +([\\w_.\\-]+)","if +(not +|)([\\w_.\\-]+)","(else)","\\/(for|if)","(?:([\\w_.\\-]+)(?:\\|(.*?))?)"].join("|")+")}",t=new RegExp(n,"g"),e.cache={},e.render=function(t,n){var r=e.cache;return r[t]||(r[t]=e.compile(t)),r[t](n)},e.compile=function(n){var i=[],s,o,u,a;if(typeof n=="function")return n;n=(n||"")+"",n=n.replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,""),n=n.replace(/(\\*){![\s\S]*?!}/g,function(e,t){return t?e.replace("\\\\",""):""}),n=n.replace(t,function(e,t,n,r,o,u,f,l,c,h,p,d,v){var m,g;if(t)return e.replace("\\\\","");if(n)return"'+r(g(c,'"+n+"'),c)+'";if(o)return a=r.replace("-","__"),i.push({statement:"for",forKey:o,iterVar:r,safeIterVar:a}),"';var __"+a+"= g(c,'"+r+"');"+"var "+a+"A = g(c,'"+o+"');"+"for (var "+a+"I=0; "+a+"I < "+a+"A.length; "+a+"I++){"+"c['"+r+"'] = "+a+"A["+a+"I];"+"b+='";if(f){i.push({statement:"if"});var m=u?"!":"";return"';if ("+m+"g(c,'"+f+"')) {"+"b+='"}if(l){s=i[i.length-1];if(!s||s.elsed)return console.warn("extra {else} ignored"),"";s.elsed=!0;if(s.statement==="if")return"'} else {b+='";if(s.statement==="for")return"'}if (!g(c,'"+s.forKey+"')) {"+"b+='"}return c?(s=i[i.length-1],!s||s.statement!==c?(console.warn("extra {/"+c+"} ignored"),""):(i.pop(),m=s.statement==="for"?"c['"+s.iterVar+"'] = __"+s.safeIterVar+";":"","'}"+m+"b+='")):h?(m=p||"","'+g(c,'"+h+"','"+m+"')+'"):e}),o=i.length;while(s=i[--o])console.warn("extra {"+s.statement+"} closed at end of template"),n+="'}b+='";return u=new Function("g","r","return function(c){var b='"+n+"';return b}"),u(r,e.render)},e.__express=function(){try{return require("./__express")}catch(e){}}()})(typeof module=="object"?module.exports:window.whiskers={})
