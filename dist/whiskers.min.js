// whiskers.js templating library v0.0.6
(function(a){a.cache={},a.render=function(b,c,d){return b=a.expand(b,d),c=c||{},a.cache[b]?a.cache[b](c):(a.cache[b]=a.compile(b),a.cache[b](c))},a.MAX_TEMPLATE_DEPTH=20,a.expand=function(b,c){var d=function(a,b){var c=b.split(".");for(var d=0,e=c.length;d<e;d++){if(!a)break;a=a[c[d]]}return a||""},e=function(b,c,f,g){return b=(b||"")+"",f=f||"",b=f+b.replace(/\n+$/,"").replace(/\n/g,f||"\n"),g=g||0,g>a.MAX_TEMPLATE_DEPTH?(console.warn("maximum template depth reached"),b):(g++,b.replace(/(\n[ \t]+|)(\\*){>([\w.]+)}/g,function(a,f,h,i){return h?a.replace("\\",""):(b=d(c,i),e(b,c,f,g))}))};return e(b,c)},a.compile=function(a){a=(a||"")+"",a=a.replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,""),a=a.replace(/(\\n[ \t]*|)(\\*){![\s\S]*?!}(?:([ \t]*(?=\\n))|)/,function(a,b,c,d){return c?a.replace("\\\\",""):(b&&d!==undefined&&(b=""),b+"")}),a=a.replace(/(\\*){([\w.]+)}/g,function(a,b,c){return b?a.replace("\\\\",""):"'+g(c,'"+c+"')+'"});var b=[],c;a=a.replace(/(\\n[ \t]*|)(\\*){(?:for +(\w+) +in +([\w.]+)|if +(not +|)([\w.]+)|\/(for|if))}(?:([ \t]*(?=\\n))|)/g,function(a,d,e,f,g,h,i,j,k,l,m){return e?a.replace("\\\\",""):(d&&k!==undefined&&(d=""),g?(b.push({statement:"for"}),d+"';var "+f+"A=g(c,'"+g+"');for(var "+f+"I=0;"+f+"I<"+f+"A.length;"+f+"I++){c['"+f+"']="+f+"A["+f+"I];b+='"):i?(b.push({statement:"if"}),d+"';if("+(h?"!":"")+"g(c,'"+i+"')){b+='"):j?(c=b[b.length-1],c&&c.statement==j?(b.pop(),d+"';}b+='"):(console.warn("extra {/"+j+"} ignored"),"")):a)});for(var d=b.length-1;d>-1;d--)c=b[d],console.warn('extra "'+c.statement+'" closed at end of template'),a+="';}b+='";return new Function("c","var g=function(o,k){var a=k.split('.');for(var i=0,l=a.length;i<l;i++){o=o[a[i]];if(!o)break}if(typeof o=='function')o=o();if(o===undefined)o='';return o};var b='"+a+"';return b")}})(typeof module=="object"?module.exports:this.whiskers={})
